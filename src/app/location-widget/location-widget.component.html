<app-widget id="locations" title="Location Scoring API:">

    <span option-label>Show: </span>
    <div class="option-container">
        <button #absoluteBtn (click)='showAbsoluteScores()' class="standard-button option-button" style="margin-left: .5rem;">Absolute scores</button>
        <button #relativeBtn (click)='showRelativeScores()' class="standard-button option-button selected-button">Network benchmark</button>
    </div>
    
    <div class="widget-content">
        <div class="widget-content-inner">
            <div *ngFor="let location of locations;">
                <div class='location' [ngClass]="{'selected-location': location.id == selectedLocation}" (click)='selectMarker(location.id)'>
                    <span class="location-name"> {{ location.id }} </span>
                    <div *ngIf="!useAbsoluteScores && location.scores.stats != null" [ngStyle]="{'background': 'conic-gradient(' + (location.scores.stats < 40 ? '#e74c3c' : location.scores.stats < 60 ? '#f1c40f' : '#27ae60') + ' ' + location.scores.stats +'%, transparent 0 100%)'}" class="rating" [ngClass]="{'meh': location.scores.stats < 60 && location.scores.stats >= 40, 'bad': location.scores.stats < 40, 'good': location.scores.stats >= 60}">
                        <span>{{ location.scores.stats }}</span>
                    </div>
                    <div *ngIf="useAbsoluteScores" class="absolute-rating">
                        {{ location.scores.stats }}
                    </div>
                    <br>
                </div>
            </div>
        </div>
    </div>
</app-widget>
<loading-label [isOpen]='isShowingLoadingLabel'></loading-label>